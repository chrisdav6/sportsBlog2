<%- include partials/header.ejs %>

<section id="editArticle" class="py-5">
  <div class="container">
    <h1>
      <%= title %>
    </h1>
    <hr class="mb-5">

    <div class="row">
      <div class="col">
        <form action="/articles/edit/<%= article._id %>" method="post">
          <div class="form-group">
            <label for="title">Article Title</label>
            <input type="text" class="form-control form-control-lg" name="title" id="title" value="<%= article.title %>">
          </div>
          <div class="form-group">
            <label for="subtitle">Article Subtitle</label>
            <input type="text" class="form-control form-control-lg" name="subtitle" id="subtitle" value="<%= article.subtitle %>">
          </div>
          <div class="form-group">
            <label for="category">Article Category</label>
            <select class="form-control form-control-lg" name="category" id="category">
              <% categories.forEach((category) => { %>
                <% if(category._id == article.category) { %>
                  <option value="<%= category._id %>" selected><%= category.title %></option>
                <% } else { %>
                  <option value="<%= category._id %>"><%= category.title %></option>
                <% } %>
              <% }); %>
            </select>
          </div>
          <div class="form-group">
            <label for="author">Article Author</label>
            <input type="text" class="form-control form-control-lg" name="author" id="author" value="<%= article.author %>">
          </div>
          <div class="form-group">
            <label for="body">Article Body</label>
            <textarea class="form-control form-control-lg" name="body" id="body" rows="5"><%= article.body %></textarea>
          </div>
          <div class="d-flex align-items-center mt-5">
            <a href="/manage/articles" class="btn btn-danger btn-lg text-light article-delete" data-article-id="<%= article._id %>">Delete</a>
            <div class="ml-auto"> 
              <a href="/manage/articles" class="text-dark mb-0 mr-3"><i class="fas fa-angle-left"></i> Back</a>
              <button class="btn btn-success btn-lg ml-auto">Edit Article</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<%- include partials/footer.ejs %>